<html>
  <head>
    <meta charset="UTF-8">
    <title>The Game</title>
  </head>

  <body>
    <a-scene
      vr-mode-ui="enabled: false"
      ar-mode-ui="enabled: false"
      id="scene"
      arjs='detectionMode: mono_and_matrix; matrixCodeType: 3x3;'
      gesture-detector
      embedded
      game
      >

      <a-assets>
        <a-asset>
          <audio id="recievedEntitySound" src="./audio/markerFound.mp3" preload="auto"></audio>
        </a-asset>
        <a-asset-item 
            id="penguin" 
            src="./gltf/penguin/scene.glb" 
            preload="auto">
        </a-asset-item>
      </a-assets>

      <a-marker class="marker" type='barcode' value='0'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>
      <a-marker class="marker" type='barcode' value='1'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>
      <a-marker class="marker" type='barcode' value='2'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>
      <a-marker class="marker" type='barcode' value='3'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>
      <a-marker class="marker" type='barcode' value='4'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>
      <a-marker class="marker" type='barcode' value='5'>
        <a-entity class="cursor-interactive game-entity" data-entity-id="" sound="src: #recievedEntitySound" autoplay="false"></a-entity>
      </a-marker>

      <a-entity camera>
        <a-entity
          cursor="fuse: false;"
          raycaster='objects: .cursor-interactive;'
          position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.015"
          material="color: black; shader: flat"
          >
        </a-entity>
      </a-entity>

    </a-scene>
    
    <div id="action-text">
      <!-- text added through javascript -->
    </div>

    <div id="game_init_container">
      <div id="player_registration_container">
        <input type="text" id="player_name" placeholder="Your nickname..">
        <select id="player_model">
          <option value="" disabled selected>Choose model</option>
          <option value="g_box">Box</option>
          <option value="g_sphere">Sphere</option>
          <option value="g_cone">Cone</option>
          <option value="g_octahedron">Octahedron</option>
          <option value="g_torusKnot">Torus Knot</option>
          <option value="m_#penguin">Penguin</option>
        </select>

        <select id="player_color" disabled>
          <option value="" disabled selected >Color</option>
          <option value="white">White</option>
          <option value="green">Green</option>
          <option value="red">Red</option>
          <option value="pink">Pink</option>
          <option value="blue">Blue</option>
          <option value="orange">Orange</option>
          <option value="black">Black</option>
        </select>
        <input type="submit" value="Go" id="submit_player_registration">
      </div>
      <!-- <img src="./game/logo.jpg" alt=""> -->
    </div>

    <div id="ui_wrap">
      <div id="info_button">
        <img src="./images/info.svg" class="button_img">
      </div>
      <div id="info_content" class="show">
        <h3>Whack-a-Mole Game</h3>
        <p>This presentation shows the implementation of a multiplayer AR experience. In this case through a game similar to Whack-a-Mole.</p>
        <ol>
          <li>Find the game board with six markers. The models will be displayed on the markers.</li>
          <li>Select username, model and color.</li>
          <li>When the came starts, start clicking on the models!</li>
          <li>The game ends when a player runs out of models on his/her board.</li>
        </ol>
        <p><strong>Click</strong> by hovering the cursor over an object, then pressing the cursor with your finger.</p>
        <span id="scroll_indicator">&darr;</span>
        <input type="submit" value="Close" id="close_info">
      </div>
    </div>
    
  </body>
</html>